<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.145.0"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta property="og:url" content="https://cattle0horse.github.io/posts/csapp/2-representation-and-processing-of-information/"><link rel=canonical href=https://cattle0horse.github.io/posts/csapp/2-representation-and-processing-of-information/><link rel=apple-touch-icon href=/logo.png><link rel=icon href=/logo.png><link rel=shortcut href=/logo.png><link rel=alternate type=application/atom+xml href=https://cattle0horse.github.io/index.xml title="CattleHorse's Blog"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/cattle0horse.github.io\/"},"articleSection":"posts","name":"2.信息的表示和处理","headline":"2.信息的表示和处理","description":"2.信息的表示和处理 信息的存储 通常情况下，程序将内存视为一个非常大的数组，数组的元素由一个个字节组成，每个字节都有唯一的数字表示，称为 Address(地址)，所有地址的集合就称为 Virtual Address Space(虚拟地址空间)\nword size(字长): 决定了虚拟地址空间的大小，字长为 w 位的机器的虚拟地址空间 (程序使用连续的虚拟地址访问内存\/磁盘) 的范围是 $0 \\sim 2^{w} - 1$（因为每一个 bit 位有 0 和 1 两种取值）\n32 位系统（如 x86）的虚拟地址空间最大为 4GB($2^{32}$ Byte) 64 位系统（如 x86_64）：理论上可支持 16EB（$2^{64}$ Byte），但实际操作系统通常不会完全使用。例如： Linux 默认使用 48 位地址空间（256TB）。 Windows 也类似，通常使用 47-48 位地址。 大多数 64 位机器向后兼容，可以运行 32 位程序\n32 位程序与 64 位程序的区别是编译过程，而不是运行机器的类型\n在编译时可以通过编译选项指定生成 32 位的程序还是 64 位的程序 不同的数据类型可能占用不同的大小，同时对于不同位数的机器也有区别，很多数据类型都是占用了多个字节空间 对于需要存储的数据，我们需要知道「该数据的地址是什么」以及「数据在内存中是如何排布的」\nByte Ordering(字节序)：数据在内存中的排列形式，有大端法与小端法两种方式，区别在于高位地址的位置\nBig Endian(大端法): 高位有效字节存储在低地址处 (优先读取最高有效字节)，更符合人类直觉，适用于网络传输和存储 Little Endian(小端法): 低位有效字节存储在低地址处 (优先读取最低有效字节)，适合计算机内部处理，主流 CPU 采用 字节序 定义 示例（0x12345678） 常见用途 Big Endian 高位字节存低地址 12 34 56 78 网络通信（TCP\/IP）、部分 RISC 处理器（PowerPC、SPARC）、部分文件格式 Little Endian 低位字节存低地址 78 56 34 12 x86、ARM 默认模式、Windows\/Linux 处理 ","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2025","datePublished":"2025-03-21 00:00:00 \u002b0000 UTC","dateModified":"2025-03-21 00:00:00 \u002b0000 UTC","url":"https:\/\/cattle0horse.github.io\/posts\/csapp\/2-representation-and-processing-of-information\/","keywords":["CSAPP","计算机组成原理"]}</script><title>2.信息的表示和处理</title>
<meta property="og:title" content="2.信息的表示和处理"><meta property="og:type" content="article"><meta property="og:description" content="2.信息的表示和处理 信息的存储 通常情况下，程序将内存视为一个非常大的数组，数组的元素由一个个字节组成，每个字节都有唯一的数字表示，称为 Address(地址)，所有地址的集合就称为 Virtual Address Space(虚拟地址空间)
word size(字长): 决定了虚拟地址空间的大小，字长为 w 位的机器的虚拟地址空间 (程序使用连续的虚拟地址访问内存/磁盘) 的范围是 $0 \sim 2^{w} - 1$（因为每一个 bit 位有 0 和 1 两种取值）
32 位系统（如 x86）的虚拟地址空间最大为 4GB($2^{32}$ Byte) 64 位系统（如 x86_64）：理论上可支持 16EB（$2^{64}$ Byte），但实际操作系统通常不会完全使用。例如： Linux 默认使用 48 位地址空间（256TB）。 Windows 也类似，通常使用 47-48 位地址。 大多数 64 位机器向后兼容，可以运行 32 位程序
32 位程序与 64 位程序的区别是编译过程，而不是运行机器的类型
在编译时可以通过编译选项指定生成 32 位的程序还是 64 位的程序 不同的数据类型可能占用不同的大小，同时对于不同位数的机器也有区别，很多数据类型都是占用了多个字节空间 对于需要存储的数据，我们需要知道「该数据的地址是什么」以及「数据在内存中是如何排布的」
Byte Ordering(字节序)：数据在内存中的排列形式，有大端法与小端法两种方式，区别在于高位地址的位置
Big Endian(大端法): 高位有效字节存储在低地址处 (优先读取最高有效字节)，更符合人类直觉，适用于网络传输和存储 Little Endian(小端法): 低位有效字节存储在低地址处 (优先读取最低有效字节)，适合计算机内部处理，主流 CPU 采用 字节序 定义 示例（0x12345678） 常见用途 Big Endian 高位字节存低地址 12 34 56 78 网络通信（TCP/IP）、部分 RISC 处理器（PowerPC、SPARC）、部分文件格式 Little Endian 低位字节存低地址 78 56 34 12 x86、ARM 默认模式、Windows/Linux 处理 "><meta name=description content="2.信息的表示和处理 信息的存储 通常情况下，程序将内存视为一个非常大的数组，数组的元素由一个个字节组成，每个字节都有唯一的数字表示，称为 Address(地址)，所有地址的集合就称为 Virtual Address Space(虚拟地址空间)
word size(字长): 决定了虚拟地址空间的大小，字长为 w 位的机器的虚拟地址空间 (程序使用连续的虚拟地址访问内存/磁盘) 的范围是 $0 \sim 2^{w} - 1$（因为每一个 bit 位有 0 和 1 两种取值）
32 位系统（如 x86）的虚拟地址空间最大为 4GB($2^{32}$ Byte) 64 位系统（如 x86_64）：理论上可支持 16EB（$2^{64}$ Byte），但实际操作系统通常不会完全使用。例如： Linux 默认使用 48 位地址空间（256TB）。 Windows 也类似，通常使用 47-48 位地址。 大多数 64 位机器向后兼容，可以运行 32 位程序
32 位程序与 64 位程序的区别是编译过程，而不是运行机器的类型
在编译时可以通过编译选项指定生成 32 位的程序还是 64 位的程序 不同的数据类型可能占用不同的大小，同时对于不同位数的机器也有区别，很多数据类型都是占用了多个字节空间 对于需要存储的数据，我们需要知道「该数据的地址是什么」以及「数据在内存中是如何排布的」
Byte Ordering(字节序)：数据在内存中的排列形式，有大端法与小端法两种方式，区别在于高位地址的位置
Big Endian(大端法): 高位有效字节存储在低地址处 (优先读取最高有效字节)，更符合人类直觉，适用于网络传输和存储 Little Endian(小端法): 低位有效字节存储在低地址处 (优先读取最低有效字节)，适合计算机内部处理，主流 CPU 采用 字节序 定义 示例（0x12345678） 常见用途 Big Endian 高位字节存低地址 12 34 56 78 网络通信（TCP/IP）、部分 RISC 处理器（PowerPC、SPARC）、部分文件格式 Little Endian 低位字节存低地址 78 56 34 12 x86、ARM 默认模式、Windows/Linux 处理 "><meta property="og:locale" content="cn"><meta property="og:image" content="/logo.png"><style>body{font-family:lxgw wenkai screen;font-weight:400;-webkit-font-smoothing:antialiased;margin:0 20px;background-color:#f8f9fa}article{max-width:800px;margin-left:auto;margin-right:auto}a{color:#000;text-decoration:none}a:hover{font-weight:600;text-decoration:underline}.post-ads{margin:50px 0}.markdown-body{font-size:18px;max-width:100%}.markdown-body a{text-decoration:underline;text-decoration-color:#000}.markdown-body blockquote{margin:0;padding:0 1em;color:#57606a;border-left:.25em solid #d0d7de}.markdown-body pre{padding:16px;overflow:auto;border-radius:10px}.markdown-body code{padding:.2em .4em;font-size:85%;background-color:#e9ecef;border-radius:6px}.markdown-body pre>code{padding:0;font-size:100%;background-color:inherit;border:0}.Chinese .markdown-body{line-height:200%}.site-date-catalog{font-size:2rem}.header-title{font-size:2rem;font-weight:700;margin-top:32px;font-family:bungee shade,sans-serif}.header-title a{text-decoration:none}.header-subtitle{color:#666}.header-items{margin:10px 0}.header-item{margin:0 5px;font-weight:700}.header-line{width:100%;border-width:2px;border-color:#482936;border-style:solid none none none}.lang-switch{font-weight:600}#posts-list{min-height:600px}.posts-line{font-size:1.2rem;margin:12px 0}.posts-categories{font-size:.8rem;margin:auto;text-align:center}.posts-category{padding:3px 0;border:#000 2px solid;border-radius:5px}.site-footer{margin-top:50px}.site-footer-item{margin-right:12px}.post-header{margin-bottom:50px}.post-title{font-size:2rem;font-weight:600}.post-tags{display:inline;font-weight:600;padding:2px 5px;margin-right:6px;border:#000 2px solid;border-radius:5px}.post-date{font-weight:800;font-style:italic}.post-author{float:right;font-weight:600}.page-content{min-height:60%}.post-content{margin-bottom:50px}.post-content p{hyphens:auto;line-height:1.8;text-justify:ideographic;margin-bottom:1em}.post-content img{max-width:100%;display:block;margin-right:auto;margin-top:6px}.post-content .post-gallery{display:flex;flex-wrap:wrap;gap:6px}.post-content .post-gallery img{margin-right:auto;margin-top:auto;width:calc(50% - 3px)}.related-content{border-width:3px;border-style:solid;border-color:#333;padding:0 10px;margin-bottom:50px;margin-top:100px}.related-content li{margin:5px 0}.taxonomy-term{font-size:3rem}.gallery-img{text-align:center}.gallery-img span{text-align:center}.gallery-img-desc{font-size:.8em;font-weight:800}#disqus_thread{position:relative}#disqus_thread:after{content:"";display:block;height:55px;width:100%;position:absolute;bottom:0;background:#fff}@media screen and (max-width:600px){.header-title,.header-subtitle,.header-items{}.posts-line{font-size:16px}.markdown-body{font-size:16px}.post-title{font-size:2rem}.post-content p{letter-spacing:.05em}.post-content .post-gallery img{width:100%}}@media screen and (max-width:48em){.posts-category{display:none}}</style><style>.container,.container-fluid{margin-right:auto;margin-left:auto}.container-fluid{padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5rem;margin-left:-.5rem}.row.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.col.reverse{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-offset-0,.col-xs-offset-1,.col-xs-offset-10,.col-xs-offset-11,.col-xs-offset-12,.col-xs-offset-2,.col-xs-offset-3,.col-xs-offset-4,.col-xs-offset-5,.col-xs-offset-6,.col-xs-offset-7,.col-xs-offset-8,.col-xs-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-xs{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-xs-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-xs-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-xs-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-xs-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-xs-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-xs-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-xs-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-xs-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-xs-offset-0{margin-left:0}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-11{margin-left:91.66666667%}.start-xs{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-xs{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-xs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-xs{-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-xs{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-xs{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}@media only screen and (min-width:48em){.container{width:49rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-offset-0,.col-sm-offset-1,.col-sm-offset-10,.col-sm-offset-11,.col-sm-offset-12,.col-sm-offset-2,.col-sm-offset-3,.col-sm-offset-4,.col-sm-offset-5,.col-sm-offset-6,.col-sm-offset-7,.col-sm-offset-8,.col-sm-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-sm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-sm-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-sm-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-sm-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-sm-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-sm-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-sm-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-sm-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-sm-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-sm-offset-0{margin-left:0}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-11{margin-left:91.66666667%}.start-sm{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-sm{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-sm{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-sm{-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-sm{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-sm{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:64em){.container{width:65rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-offset-0,.col-md-offset-1,.col-md-offset-10,.col-md-offset-11,.col-md-offset-12,.col-md-offset-2,.col-md-offset-3,.col-md-offset-4,.col-md-offset-5,.col-md-offset-6,.col-md-offset-7,.col-md-offset-8,.col-md-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-md{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-md-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-md-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-md-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-md-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-md-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-md-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-md-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-md-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-md-offset-0{margin-left:0}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-11{margin-left:91.66666667%}.start-md{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-md{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-md{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-md{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-md{-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-md{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-md{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:75em){.container{width:76rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-offset-0,.col-lg-offset-1,.col-lg-offset-10,.col-lg-offset-11,.col-lg-offset-12,.col-lg-offset-2,.col-lg-offset-3,.col-lg-offset-4,.col-lg-offset-5,.col-lg-offset-6,.col-lg-offset-7,.col-lg-offset-8,.col-lg-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-lg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-lg-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-lg-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-lg-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-lg-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-lg-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-lg-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-lg-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-lg-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-lg-offset-0{margin-left:0}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-11{margin-left:91.66666667%}.start-lg{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-lg{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-lg{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-lg{-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-lg{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-lg{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}</style><link rel=stylesheet href=/css/background.css><link href=/index.xml rel=alternate type=application/rss+xml title="CattleHorse's Blog"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-web/style.css><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["$$","$$"]],inlineMath:[["$","$"]]},loader:{load:["ui/safe"]}}</script></head><body><article class="post Chinese" id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class=header-title><a href=/>CattleHorse's Blog</a></div><div class=header-subtitle>By accumulating small steps, one can reach a thousand miles.</div></header><div class="row end-md header-items"><div class=header-item><a href=/index.xml target=_blank>RSS</a></div><div class=header-item><a href=https://github.com/cattle0horse target=_blank>About</a></div></div><div class=row></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>2.信息的表示和处理</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2025-03-21 00:00:00 UTC">2025.03.21</time></div><div class=col-xs-6></div></div></header><div class="post-content markdown-body"><h2 id=2信息的表示和处理>2.信息的表示和处理</h2><h3 id=信息的存储>信息的存储</h3><p>通常情况下，程序将内存视为一个非常大的数组，数组的元素由一个个字节组成，每个字节都有唯一的数字表示，称为 Address(地址)，所有地址的集合就称为 Virtual Address Space(虚拟地址空间)</p><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250319221101744.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250319221439235.png alt></p><p>word size(字长): 决定了虚拟地址空间的大小，字长为 w 位的机器的虚拟地址空间 (程序使用连续的虚拟地址访问内存/磁盘) 的范围是 $0 \sim 2^{w} - 1$（因为每一个 bit 位有 0 和 1 两种取值）</p><ul><li>32 位系统（如 x86）的虚拟地址空间最大为 4GB($2^{32}$ Byte)</li><li>64 位系统（如 x86_64）：理论上可支持 16EB（$2^{64}$ Byte），但实际操作系统通常不会完全使用。例如：<ul><li>Linux 默认使用 48 位地址空间（256TB）。</li><li>Windows 也类似，通常使用 47-48 位地址。</li></ul></li></ul><p>大多数 64 位机器向后兼容，可以运行 32 位程序</p><p>32 位程序与 64 位程序的区别是编译过程，而不是运行机器的类型</p><p>在编译时可以通过编译选项指定生成 32 位的程序还是 64 位的程序
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250319222358537.png alt></p><p>不同的数据类型可能占用不同的大小，同时对于不同位数的机器也有区别，很多数据类型都是占用了多个字节空间
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250319222809671.png alt></p><blockquote><p>对于需要存储的数据，我们需要知道「该数据的地址是什么」以及「数据在内存中是如何排布的」</p></blockquote><p>Byte Ordering(字节序)：数据在内存中的排列形式，有大端法与小端法两种方式，区别在于高位地址的位置</p><ul><li>Big Endian(大端法): 高位有效字节存储在低地址处 (优先读取最高有效字节)，更符合人类直觉，适用于网络传输和存储</li><li>Little Endian(小端法): 低位有效字节存储在低地址处 (优先读取最低有效字节)，适合计算机内部处理，主流 CPU 采用</li></ul><table><thead><tr><th><strong>字节序</strong></th><th><strong>定义</strong></th><th><strong>示例（0x12345678）</strong></th><th><strong>常见用途</strong></th></tr></thead><tbody><tr><td><strong>Big Endian</strong></td><td>高位字节存低地址</td><td><code>12 34 56 78</code></td><td>网络通信（TCP/IP）、部分 RISC 处理器（PowerPC、SPARC）、部分文件格式</td></tr><tr><td><strong>Little Endian</strong></td><td>低位字节存低地址</td><td><code>78 56 34 12</code></td><td>x86、ARM 默认模式、Windows/Linux 处理</td></tr></tbody></table><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321155438902.png alt></p><p>32 位机器使用 4 字节地址，64 位机器使用 8 字节地址 (这对应了指针的占用大小)</p><p>字符串的表示：在 C 语言中，使用 NULL(&rsquo;\0&rsquo;) 作为一个字符串的结尾标识。比如要存储 &ldquo;abcde&rdquo;，虽然只有 5 个字符，但是长度却是 6
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321155438956.png alt></p><p>布尔代数：逻辑运算推理，如与 (and)、非 (or)、或 (not)、异或 (xor)
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250319224618971.png alt></p><p>位级运算: 一个常见用途就是实现掩码运算</p><p>逻辑运算: 零表示 false，非零表示 true</p><p>移位运算: 左移在低位补 0 即可；右移分为逻辑右移与算术右移，Java 中的 <code>>>></code> 专门提供了逻辑右移</p><ul><li>逻辑右移：高位补 0</li><li>算数右移：高位补符号位（有符号数在进行右移时，需要使用算数右移）</li></ul><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250319225055027.png alt></p><h3 id=整数-integer>整数 Integer</h3><h4 id=整数的表示>整数的表示</h4><p>计算机中对于有符号数的编码采用补码 (Two’s Complement) 的形式，最高位作为符号位</p><p>关于符号位，需要理解负权重的概念，而不能简单的当成一个负号
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250320124214967.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250320124453787.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250320124821749.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321155438995.jpg alt></p><p>无符号数和有符号数的区别在于有没有最高位的符号位，以及由此带来的计算方式的不同。符号位中，0 标识了非负数，1 标识了负数（原因是最高位的负权重一定大于其余位的和）</p><h4 id=类型转换>类型转换</h4><p>对于 C 语言，在进行有符号和无符号数的互相转换时：</p><ul><li>具体每一个字节的值不会改变，改变的是计算机解释当前值的方式</li><li>如果一个表达式既包含有符号数也包含无符号数，那么会被<strong>隐式转换</strong>成无符号数进行比较（这个隐式转换可能导致意想不到的问题）</li></ul><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321141252531.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321141333746.png alt></p><blockquote><p>C 语言中的隐式类型转换可能会导致意想不到的问题，因此很多语言在编译时禁止了不同类型间的比较和运算，如 Go 语言</p></blockquote><h4 id=类型扩展与截取>类型扩展与截取</h4><ul><li>扩展（例如从 <code>short int</code> 到 <code>int</code>），保持数值不变是可以的，书中给出了数学证明<ul><li>无符号数：零扩展，在扩展的数位补 0</li><li>有符号数：符号位扩展，在扩展的位数补符号位的数值（即最高位）</li></ul></li><li>截取（例如 <code>unsigned int</code> 到 <code>unsigned short</code>），想要保持数据不变只有在小数据的情况下是可能的（原数本身在目标位宽内）<ul><li>无符号数：丢弃多出的高位，相当于取模运算</li><li>有符号数：同样截断，再重新解释。<ul><li>如 -41，8 位的二进制表示是 <code>1101 0111</code>，在截取 4 位后，无法表示原数（因为 4 位补码可表示的范围是 –8 到 7）</li></ul></li></ul></li></ul><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321141707711.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321141800058.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321142037732.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321142701523.png alt></p><blockquote><p>当两个不同数据类型进行比较或者运算时，C 语言会自动做拓展（如果可以），把小的数据类型转换成大的</p></blockquote><h4 id=正数加减法运算>正数加减法运算</h4><ul><li>溢出丢弃：如果两个 w 位的数字相加，结果是 w+1 位，则会丢弃最高位（实际上是做了一个取模操作）<ul><li>两个无符号数相加，可能因为溢出导致结果更小</li><li>两个有符号数相加，操作和无符号数相同，只是解释时不同，分为正溢出和负溢出<ul><li>正溢出 (positive overflow)：数值太大，符号位的 0 变为了 1，导致解释为负数<ul><li>如 1 字节的有符号的 127 与 1 相加，期望得到 128，但最后得到了 -128</li></ul></li><li>负溢出 (negative overflow)：数值太小，符号位的 1 变为了 0，导致解释为正数<ul><li>如 1 字节的有符号的 -128 与 -1 相加，期望得到 -129，但最后得到了 127</li></ul></li></ul></li></ul></li><li>溢出检测：C 语言中并不会对溢出进行报错<ul><li>两个无符号数相加：当发生溢出时得到的和一定小于任何一个数（推导见图）</li><li>两个有符号数相加：<ul><li>两个正数相加，得到的结果为负，则说明发生了正溢出</li><li>两个负数相加，得到的结果为正，则说明发生了负溢出</li><li>注意：一正一负相加是不会溢出的</li></ul></li></ul></li></ul><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321150404858.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321150741236.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321150911379.png alt></p><h4 id=正数乘除法运算>正数乘除法运算</h4><blockquote><p>[!todo] 这里没有详细看</p></blockquote><p>乘法同加法运算一样，当溢出时会进行截断</p><p>乘法指令的执行需要多个时钟周期，很多 C 语言编译器试图用移位、加法以及减法代替整数乘法的操作
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321152141257.png alt></p><p>对于除以 2 的幂也可以用移位实现（无符号数使用逻辑右移，有符号数使用算数右移）</p><p>整数除法可能遇到除不尽的情况，统一 0 舍入
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321152422303.png alt></p><h3 id=浮点数-float>浮点数 Float</h3><blockquote><p>[!todo] 这里没有详细看</p></blockquote><h4 id=定点表示法>定点表示法</h4><p>可以类似于 10 进制用一个统一的公式来表达：$\sum_{k = - j}^{i} b_{k} \times 2^{k}$</p><p>例如 $5 \frac{3}{4} = (101.11)_{2} , 2 \frac{7}{8} = (10.111)_{2} , 1 \frac{7}{16} = (1.0111)_{2}$</p><p><img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321153358978.png alt>
<img src=/posts/csapp/2-representation-and-processing-of-information/attachments/2.%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86-20250321153336347.png alt></p><p>这种表达方式其实是比较明显的限制的，比如说，只有形为 $\frac{x}{2^{k}}$ 的小数部分可以被精确表示，其他的数字会变成循环的小数，例如：$\frac{1}{3} = 0.0101010101[01](\ldots)_{2}$。</p><p>除此之外，另一个问题在于，如果给定了 w 个比特，能够表达的数字其实是有限的，具体的原因会在后面详细解释。</p><h4 id=ieee-浮点数标准>IEEE 浮点数标准</h4><h2 id=参考资料>参考资料</h2><ul><li><a href=../../../clippings/%E5%B0%8F%E5%9C%9F%E5%88%80/%E8%AF%BB%E8%96%84CSAPP/%E3%80%90%E8%AF%BB%E8%96%84%20CSAPP%E3%80%91%E5%A3%B9%20%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA.md>【读薄 CSAPP】壹 数据表示 - 小土刀</a></li><li><a href=https://www.bilibili.com/video/BV1tV411U7N3>【CSAPP-深入理解计算机系统】2-1.信息的存储(上) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1DK4y1Y7Yi>【CSAPP-深入理解计算机系统】2-1.信息的存储(下) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1ba4y1E7qy>【CSAPP-深入理解计算机系统】2-2.整数的表示(上) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1HK411K7TX>【CSAPP-深入理解计算机系统】2-2.整数的表示(下) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV13Z4y1V734/>【CSAPP-深入理解计算机系统】2-3.整数的运算(上) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1Ff4y1q7Kf/>【CSAPP-深入理解计算机系统】2-3.整数的运算(下) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1VK4y1f7o6/>【CSAPP-深入理解计算机系统】2-4.浮点数(上) - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1zK4y1j7Cn/>【CSAPP-深入理解计算机系统】2-4.浮点数(下) - 九曲阑干</a></li></ul></div><div class="row middle-xs"><div class=col-xs-12><div class=post-tags><a href=/tags/csapp/>CSAPP</a></div><div class=post-tags><a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/>计算机组成原理</a></div></div></div><div class=row><div class=col-xs-12></div></div><div class=related-content><h3>Related Posts</h3><ul><li><a href=/posts/csapp/1-computer-system-walk/>1.计算机系统漫步</a></li></ul></div><div style=height:50px></div><div class=site-footer></div></div></div></article><script src=/js/lazyload.min.js></script><script>var lazyImage=new LazyLoad({container:document.getElementById("article")})</script></body></html>