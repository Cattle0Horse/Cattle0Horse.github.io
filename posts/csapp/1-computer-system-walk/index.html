<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=content-type content="text/html"><meta name=viewport content="width=device-width,initial-scale=1"><title itemprop=name>1.计算机系统漫步 | CattleHorse's Blog</title>
<meta property="og:title" content="1.计算机系统漫步 | CattleHorse's Blog"><meta name=twitter:title content="1.计算机系统漫步 | CattleHorse's Blog"><meta itemprop=name content="1.计算机系统漫步 | CattleHorse's Blog"><meta name=application-name content="1.计算机系统漫步 | CattleHorse's Blog"><meta property="og:site_name" content="Awesome hugo 博客"><meta name=description content="以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍"><meta itemprop=description content="以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍"><meta property="og:description" content="以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍"><meta name=twitter:description content="以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍"><meta property="og:locale" content="zh-cn"><meta name=language content="zh-cn"><link rel=alternate hreflang=zh-cn href=https://cattle0horse.github.io/posts/csapp/1-computer-system-walk/ title=简体中文><meta property="og:type" content="article"><meta property="og:article:published_time" content=2025-03-19T00:00:00Z><meta property="article:published_time" content=2025-03-19T00:00:00Z><meta property="og:url" content="https://cattle0horse.github.io/posts/csapp/1-computer-system-walk/"><meta property="og:article:author" content="CattleHorse"><meta property="article:author" content="CattleHorse"><meta name=author content="CattleHorse"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"1.计算机系统漫步","author":{"@type":"Person","name":""},"datePublished":"2025-03-19","description":"以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍","wordCount":437,"mainEntityOfPage":"True","dateModified":"2025-03-19","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"CattleHorse\u0027s Blog"}}</script><meta name=generator content="Hugo 0.145.0"><meta property="og:url" content="https://cattle0horse.github.io/posts/csapp/1-computer-system-walk/"><meta property="og:site_name" content="CattleHorse's Blog"><meta property="og:title" content="1.计算机系统漫步"><meta property="og:description" content="以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-19T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-19T16:00:21+00:00"><meta property="article:tag" content="计算机系统"><meta name=twitter:card content="summary"><meta name=twitter:title content="1.计算机系统漫步"><meta name=twitter:description content="以“HelloWorld”程序的生命周期为线索，对计算机系统的主要概念进行整体介绍"><link rel=canonical href=https://cattle0horse.github.io/posts/csapp/1-computer-system-walk/><link href=/style.min.2d921c18cf1ec555ffc03d59a8adc211c402c68c930c27d6a0c306ab175a8d09.css rel=stylesheet><link href=/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/icons/favicon-16x16.png><link rel=mask-icon href=/icons/safari-pinned-tab.svg><link rel="shortcut icon" href=/favicon.ico><link rel=manifest href=https://cattle0horse.github.io/site.webmanifest><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#2d89ef"><meta name=theme-color content="#434648"><link rel=icon type=image/svg+xml href=/icons/favicon.svg></head><body data-theme=light class=notransition><script src=/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script><div class=navbar role=navigation><nav class=menu aria-label="Main Navigation"><a href=https://cattle0horse.github.io/ class=logo><svg width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><title>主页</title><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
</a><input type=checkbox id=menu-trigger class=menu-trigger>
<label for=menu-trigger><span class=menu-icon><svg width="25" height="25" stroke="currentcolor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7H3.40726"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M.5 12.5V1.5c0-.552285.447715-1 1-1h11C13.0523.5 13.5.947715 13.5 1.5v11C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C.947715 13.5.5 13.0523.5 12.5z"/></svg></span></label><div class=trigger><ul class=trigger-container><li><a class=menu-link href=/>主页</a></li><li><a class="menu-link active" href=/posts/>文章</a></li><li><a class=menu-link href=/pages/about/>关于</a></li><li class=menu-separator><span>|</span></li></ul><a id=mode href=#><svg class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg><svg class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg></a></div></nav></div><div class="wrapper post"><main class=page-content aria-label=Content><article><header class=header><h1 class=header-title>1.计算机系统漫步</h1><div class=post-meta><time datetime=2025-03-19T00:00:00+00:00 itemprop=datePublished>2025.03.03</time></div></header><div class=page-content><h2 id=1计算机系统漫游>1.计算机系统漫游</h2><p>为什么要了解编译系统是如何工作的？</p><ul><li>优化程序性能</li><li>理解链接时出现的错误</li><li>避免安全漏洞</li></ul><h3 id=helloworld-程序的一生简述>HelloWorld 程序的一生简述</h3><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319131409323.png alt></p><p>一个 C 语言程序（例如 <code>hello.c</code>）从编写到执行再到结束的整个生命周期</p><ol><li><strong>编译过程</strong>：<ul><li>C 语言是一种高级语言，计算机无法直接理解。为了让计算机能够执行 C 语言程序，必须将其转换为机器语言。这一过程称为编译。</li><li>编译过程涉及多个步骤：<ul><li><strong>预处理</strong>（cpp）：处理源代码中的预处理指令（如 <code>#include</code> 和 <code>#define</code>）。生成 <code>hello.i</code> 文件</li><li><strong>编译</strong>（cc1）：将预处理后的代码转换为汇编语言。生成 <code>hello.s</code> 文件</li><li><strong>汇编</strong>（as）：将汇编语言转换为机器语言（目标文件）。生成 <code>hello.o</code> 文件</li><li><strong>链接</strong>（ld）：将目标文件与所需的库文件 (如 <code>printf.o</code>) 链接，生成最终的可执行文件。</li></ul></li></ul></li><li><strong>程序执行过程</strong>：<ul><li>当用户在 shell 中运行可执行程序时，shell 会调用 <code>fork</code> 函数创建一个子进程。</li><li>创建子进程后，操作系统使用 <code>execve</code> 函数来加载程序的可执行文件，并为其分配虚拟内存。</li><li>程序开始执行，从 <code>main</code> 函数开始，执行相关代码（例如打印信息）。</li></ul></li><li><strong>运行优化</strong>：<ul><li>在程序运行过程中，操作系统使用多种机制（如 TLB、页表、缓存等）来提高程序的执行效率。</li></ul></li><li><strong>程序结束与资源回收</strong>：<ul><li>程序执行完成后，shell 会回收子进程，操作系统内核会删除与该进程相关的数据结构，并释放占用的资源。</li></ul></li></ol><h3 id=计算机系统的硬件组成>计算机系统的硬件组成</h3><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319151147368.png alt></p><p><strong>CPU(Central Process Unit, 中央处理单元, 处理器)：</strong></p><ul><li><strong>Program Count(PC, 程序计数器，指令指针)</strong>：大小为一个 word(字) 的存储区域，存放某一条指令的地址<ul><li>CPU 从通电开始就在不断执行 PC 指向的指令，然后更新 PC 使其指向下一条要执行的指令（注意，下一条要执行的指令与刚刚执行的指令并不一定相邻）</li></ul></li><li><strong>Register file(寄存器文件)</strong>：CPU 中的一个存储设备，由单字长的寄存器组成</li><li><strong>Register(寄存器)</strong>：临时存放数据的空间，保存计算结果，每个寄存器有自己唯一的名字</li><li><strong>ALU(Arithmetic Logic Unit, 算术逻辑单元)</strong>：复制寄存器中保存的值执行算术运算，并保存到寄存器中<ul><li>以计算两个变量 a+b 的和为例：<ul><li>CPU 进行数据的加载：CPU 从内存中读取 a 的值暂存至寄存器 X 中，读取 B 的至暂存至寄存器 Y 中（这个操作会覆盖寄存器中原来的值）</li><li>ALU 复制寄存器 X 和 Y 中保存的数值，进行算数运算，并保存到寄存器 X 或 Y 中</li></ul></li></ul></li><li><strong>Main Memory(主存, 内存)</strong>：CPU 在执行程序时，内存主要存放程序的指令及数据，由 RAM(随机访问存储器) 组成，可以看作一个从 0 开始的数组，每个字节都有相应的地址</li><li><strong>Bus(总线)</strong>：负责将信息从一个部件传递到另一个部件，通常总线被设计成传送固定长度的字节块，也就是 word(字)</li><li><strong>输入输出设备</strong>：如鼠标、键盘、显示器、磁盘等，通过控制器或适配器与 IO 总线相连。</li></ul><blockquote><p>对于 字长 (word size) 为 32 位的机器 1word = 4Byte
对于 字长为 64 位的机器 1word = 8Byte</p></blockquote><p>通过 shell 执行一个编译好的 hello 可执行文件（打印 <code>Hello World</code>）理解：</p><ol><li>键盘输入 <code>./hello</code> 字符串</li><li>shell 将输入字符逐一读入 CPU 中的寄存器<ul><li>键盘 -> USB 控制器 -> IO 总线 -> IO Bridge -> &mldr; -> 寄存器</li></ul></li><li>CPU 确定存储的内存位置并将其放入内存中<ul><li>寄存器 -> &mldr; -> IO Bridge -> &mldr; -> 内存</li></ul></li><li>CPU 将 hello 中的数据和代码从磁盘复制到内存，利用 DMA(Direct Memory Access) 技术，数据不经过 CPU 直接到达内存</li><li>CPU 执行代码</li><li>CPU 将 <code>Hello World\n</code> 字符串从内存复制到寄存器文件，再从寄存器复制到显示设备</li></ol><p>数据需要在多个地方（磁盘、内存、处理器、IO 设备）之间搬运，系统设计人员的一个主要任务就是缩短信息搬运所花费的时间</p><p>通常情况下：</p><ul><li>大容量的存储设备的存取速度比小容量的慢</li><li>运行速度更快的设备的价格相对于低速设备更贵</li></ul><p>由于存储设备的容量、速度与价格，为了提高字的传递速度，设计了<strong>多级缓存</strong>，其主要思想就是「<strong>上一层存储设备是下一层存储设备的高速缓存</strong>」</p><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135940441.png alt>
<img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135950947.png alt=CSAPP-20250220122121220.png></p><h3 id=操作系统>操作系统</h3><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135951002.png alt=CSAPP-20250220122121290.png></p><p>Operating System(OS，操作系统)：是 Application Program(应用程序) 与 Hardware(硬件) 之间的中间层，所有应用程序对硬件的操作必须通过操作系统完成</p><ul><li>防止应用程序滥用硬件</li><li>提供统一的机制（如进程，虚拟内存，文件）控制复杂的底层硬件（计算机的层层抽象）<ul><li>文件是对 IO 设备的抽象</li><li>虚拟内存是对内存和磁盘 IO 的抽象</li><li>进程是对处理器、内存以及 IO 设备的抽象</li></ul></li></ul><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135951036.png alt=CSAPP-20250220122121341.png></p><h4 id=进程>进程</h4><p><a href=https://en.wikipedia.org/wiki/Program_%28machine%29>Program(程序)</a>: 指令、数据及其组织形式的描述</p><p><a href=https://en.wikipedia.org/wiki/Process_%28computing%29>Process(进程)</a>: 程序执行的实例，即程序进行时，是系统资源分配的基本单位</p><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135951079.png alt=CSAPP-20250220122121394.png></p><p>通过 shell 执行 hello 程序理解：</p><ol><li>shell 进程等待用户输入</li><li>shell 进程通过系统调用执行请求<ol><li>将控制权从 shell 进程传递给操作系统</li><li>保存 shell 进程的上下文</li><li>创建一个新的 hello 进程及其上下文</li></ol></li><li>hello 进程执行完后，操作系统恢复 shell 进程的上下文，并将控制权交给 shell 进程</li><li>shell 进程继续等待下一个用户输入</li></ol><blockquote><p>Process Context(进程上下文): 进程运行中所需要的所有状态信息，如 当前 PC、寄存器的值、内存中的内容 等</p></blockquote><h4 id=线程>线程</h4><p><a href=https://en.wikipedia.org/wiki/Thread_%28computing%29>Thread(线程)</a>: CPU 调度和执行的基本单位</p><p>一个进程由多个线程组成，每个线程都运行在进程的上下文中，共享代码和数据</p><h4 id=虚拟内存>虚拟内存</h4><p><a href=https://zh.wikipedia.org/zh-cn/%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98>Virtual Memory(虚拟内存)</a>: 计算机系统内存管理的一种技术，它使得应用程序认为它拥有连续可用的内存（虚拟地址空间），并提供了内存安全，进程间隔离等功能</p><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135951116.png alt=CSAPP-20250220122121442.png>
从下向上看，地址是增大的，最下面是 0 地址</p><p>现代操作系统通常将 <strong>用户空间（User Space）</strong> 和 <strong>内核空间（Kernel Space）</strong> 分开</p><p>虚拟地址空间的典型布局（以 x86_64 Linux 为例）</p><ul><li><strong>用户空间（User Space）</strong><ul><li><strong>从 0x0000000000000000 到 0x00007FFFFFFFFFFF</strong>（Linux x86_64 默认前 128TB）</li><li>主要包括：<ol><li><strong>代码段（.text）</strong>：存储程序的可执行代码，通常是 <strong>只读的</strong>。</li><li><strong>数据段（.data/.bss）</strong>：从可执行目标文件中加载而来<ul><li><strong>.data</strong>：已初始化的全局和静态变量。</li><li><strong>.bss</strong>：未初始化的全局和静态变量。</li></ul></li><li><strong>堆（Heap）</strong>：<ul><li>由 <code>malloc()</code>、<code>new</code> 分配，向高地址扩展。</li></ul></li><li><strong>共享库（Shared Libraries）</strong>：<ul><li><code>libc.so</code> 等动态链接库（如 <code>printf</code> 函数），通常加载在中间地址范围（如 0x7Fxxxx）。</li></ul></li><li><strong>栈（Stack）</strong>：<ul><li>用于局部变量、函数调用等，<strong>向低地址扩展</strong>。</li></ul></li><li><strong>内存映射区（Memory-Mapped Files & Anonymous Mapping）</strong>：<ul><li><code>mmap()</code> 分配的区域，如共享内存、映射文件等。</li></ul></li></ol></li></ul></li><li><strong>内核空间（Kernel Space）</strong><ul><li><strong>从 0xFFFF800000000000 到 0xFFFFFFFFFFFFFFFF</strong>（Linux x86_64 默认 128TB）</li><li>仅 <strong>操作系统内核</strong> 可访问，通常包括：<ul><li>内核代码和数据</li><li>设备驱动程序</li><li>内存管理数据结构（页表等）</li><li>物理地址映射（如 <code>ioremap()</code>）</li></ul></li></ul></li></ul><h4 id=文件>文件</h4><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319151042979.png alt>
Unix 哲学: 一切皆文件，所有的 IO 设备（包括键盘、磁盘、显示器、网络等）都可以看成文件，系统中所有的输入输出都可以通过读写文件完成</p><h3 id=网络>网络</h3><p>CS 编程模型: Client &lt;=> Service &lt;=> Database</p><p>现代通常使用 ssh 的方式连接远程主机</p><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319151402035.png alt></p><h3 id=并发计算>并发计算</h3><p><a href=https://zh.wikipedia.org/zh-cn/%E9%98%BF%E5%A7%86%E8%BE%BE%E5%B0%94%E5%AE%9A%E5%BE%8B>Amdahl&rsquo;s Law(阿姆达尔定律)</a>: 描述 CPU 并行计算效率提升的能力，即加速比</p><p>如何获得更高的计算能力 -> Concurrency and Parallelism(并发性与并行性):</p><ul><li>Thread-Level Concurrency(线程级并发)</li><li>Instruction-Level Parallelism(指令级并行)</li><li>Single-Instruction Multiple-Data Parallelism(单指令 多数据 并行)</li></ul><h4 id=线程级并发>线程级并发</h4><p>Thread-Level Concurrency(线程级并发): 线程是 CPU 调度的基本单位，通过执行多个线程实现并发</p><p>多核处理器组织结构</p><ul><li>每个 CPU 核心都有自己的 L1 Cache 和 L2 Cache</li><li>多个 CPU 核心共享 L3 Cache</li><li>多个 CPU 核心集成在一颗芯片上</li></ul><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135951151.png alt=CSAPP-20250220122121489.png></p><p>Hyperthreading(超线程、同时多线程): 一个 CPU 核心执行多个线程。通过在每个物理核心内部创建多个逻辑线程，使得核心在执行指令时可以同时处理来自两个或更多线程的任务。
工作原理：</p><ul><li><strong>资源共享</strong>：物理核心内的执行单元（如算术逻辑单元、浮点单元、缓存、总线等）在多个逻辑线程之间共享，但每个逻辑线程拥有独立的寄存器和程序计数器等部件。</li><li><strong>提高资源利用率</strong>：在传统单线程执行中，当某个线程因数据依赖、缓存未命中或等待内存访问等原因导致部分执行单元闲置时，超线程技术允许另一个线程利用这些空闲资源，从而提高整体计算效率。</li></ul><blockquote><p>IO 慢，CPU 计算快，CPU 在等待读取数据时通过线程切换执行其他线程</p></blockquote><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319135951188.png alt=CSAPP-20250220122121547.png></p><p>简单对比：</p><ul><li><strong>超线程技术</strong>：通过在单个物理核心上同时执行多个逻辑线程，改善了资源利用率和多任务并行处理能力，尤其在存在内存延迟和 I/O 等瓶颈时能有效隐藏等待时间，但在纯计算密集型任务中由于资源竞争，性能提升有限，同时需要处理线程间的资源竞争和同步问题。</li><li><strong>单线程技术</strong>：每个核心仅处理一个线程，虽然在资源利用上可能出现浪费，但在不需要等待其他资源时能充分发挥核心的全部计算能力。</li></ul><h4 id=指令级并行>指令级并行</h4><p>Instruction-Level Parallelism(指令级并行): 同时执行多条指令</p><p>实现技术：</p><ul><li>Pipelinin(流水线)<ul><li>将指令执行过程分为多个连续的阶段（如取指、译码、执行、访存、写回），每个阶段由不同的硬件模块负责。多条指令在不同阶段上“并行”运行，相当于生产线上的各个工序同时工作。</li></ul></li><li>分支预测<ul><li>现代处理器通过预测程序中的分支走向，提前加载并执行可能需要用到的指令。如果预测正确，能大幅减少因分支判断导致的延迟；如果预测错误，处理器会回滚错误的投机执行结果。</li></ul></li><li>&mldr;</li></ul><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319152652909.png alt></p><h4 id=单指令---多数据>单指令 - 多数据</h4><p>SIMD(Single Instruction Multiple Data，单指令多数据): 单指令产生多个并行操作 (处理声音、视频)</p><p><img src=/posts/csapp/1-computer-system-walk/attachments/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%AD%A5-20250319154425711.png alt></p><h2 id=reference>Reference</h2><ul><li><a href=https://zhuanlan.zhihu.com/p/513307151>计算机系统漫游：HelloWorld 的一生 - 潜龙勿用</a></li><li><a href=https://www.bilibili.com/video/BV1cD4y1D7uR/>【CSAPP-深入理解计算机系统】1-1.计算机系统漫游 - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV115411h72j/>【CSAPP-深入理解计算机系统】1-2.计算机系统漫游 - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1mi4y137g8/>【CSAPP-深入理解计算机系统】1-3.计算机系统漫游 - 九曲阑干</a></li><li><a href=https://www.bilibili.com/video/BV1MC4y1t77F/>【CSAPP-深入理解计算机系统】1-4.计算机系统漫游 - 九曲阑干</a></li></ul></div></article></main></div><footer class=footer><span class=footer_item></span>&nbsp;<div class=footer_social-icons><a href=https://github.com/Cattle0Horse target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=/index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><small class=footer_copyright>© 2025 CattleHorse.
Powered by <a href=https://github.com/Cattle0Horse target=_blank rel=noopener>CattleHorse</a>.</small></footer><a href=# title=返回顶部 id=totop><svg width="48" height="48" fill="currentcolor" stroke="currentcolor" viewBox="0 96 960 960"><path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197z"/></svg>
</a><script src=https://cattle0horse.github.io/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30+lSNuSkl4QXuNyy8="></script></body></html>